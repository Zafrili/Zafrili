<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />

<!-- No zoom on mobile -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

<title>Zafrili - Roblox UGC Outfits</title>

<link rel="icon" type="image/png" href="ourlogo.png" />
<link rel="apple-touch-icon" href="ourlogo.png" />

<style>
  :root{
    --bg:#000;
    --panel:#0e0e0e;
    --card:#111;
    --muted:rgba(255,255,255,.78);
    --muted2:rgba(255,255,255,.60);
    --border:rgba(255,255,255,.22);
    --border2:rgba(255,255,255,.14);
    --white:#fff;

    /* NEW: sticky heights (JS will update) */
    --ann-h: 44px;
    --prog-h: 3px;
    --top-h: 64px;
    --sticky-h: calc(var(--ann-h) + var(--prog-h) + var(--top-h));
  }

  *{ box-sizing:border-box; margin:0; padding:0; font-family: Arial, sans-serif; }
  html{ scroll-behavior:smooth; }
  body{ background:var(--bg); color:var(--white); line-height:1.6; overflow-x:hidden; }
  a{ text-decoration:none; color:inherit; }
  img{ max-width:100%; display:block; border-radius:16px; }

  /* FIX: scroll alignment under sticky bars (uses CSS var) */
  #about, #catalog, #faq, #news, #sister, #contact { scroll-margin-top: calc(var(--sticky-h) + 18px); }

  /* White scrollbar */
  ::-webkit-scrollbar{ width:10px; }
  ::-webkit-scrollbar-track{ background:#000; }
  ::-webkit-scrollbar-thumb{
    background:#fff;
    border-radius:999px;
    border:2px solid #000;
  }
  ::-webkit-scrollbar-thumb:hover{ background:#eaeaea; }
  *{ scrollbar-width:thin; scrollbar-color:#fff #000; }

  .grain{
    pointer-events:none;
    position:fixed; inset:0;
    background-image: radial-gradient(rgba(255,255,255,.06) 1px, transparent 1px);
    background-size: 70px 70px;
    opacity:.07;
    mix-blend-mode: screen;
    z-index:1;
  }

  /* IMPORTANT: keep overlays above everything */
  .announce, .progress-wrap, .topbar, #community, .strip, .section-shell, footer { position:relative; z-index:2; }

  .reveal{ opacity:0; transform:translateY(16px); transition:.7s ease; }
  .reveal.show{ opacity:1; transform:translateY(0); }

  /* Announcement */
  .announce{
    position:sticky; top:0; z-index:120;
    background:linear-gradient(90deg, rgba(255,255,255,.12), rgba(255,255,255,.04));
    border-bottom:1px solid var(--border2);
    overflow:hidden;
  }
  .announce-inner{
    max-width:1200px; margin:0 auto; padding:10px 16px;
    display:flex; align-items:center; justify-content:center; gap:10px;
    position:relative;
  }
  .announce-badge{
    padding:6px 10px; border-radius:999px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    font-weight:900; letter-spacing:.3px; font-size:12px;
    flex:0 0 auto;
  }
  /* FIX #1: allow wrapping on mobile */
  .announce-text{
    font-weight:900; letter-spacing:.4px; opacity:.95;
    white-space:nowrap;
  }
  .shine{
    position:absolute; left:-30%; top:0; height:100%; width:40%;
    background:linear-gradient(90deg, transparent, rgba(255,255,255,.14), transparent);
    transform:skewX(-20deg);
    animation: shine 4.2s linear infinite;
    pointer-events:none;
  }
  @keyframes shine{ 0%{left:-40%} 100%{left:140%} }

  /* Progress */
  .progress-wrap{
    position:sticky;
    top: var(--ann-h);
    z-index:115;
    height:3px;
    background:rgba(255,255,255,.08);
    border-bottom:1px solid rgba(255,255,255,.06);
  }
  .progress-bar{ height:3px; width:0%; background:#fff; }

  /* Topbar */
  .topbar{
    position:sticky;
    top: calc(var(--ann-h) + var(--prog-h));
    z-index:110;
    background:rgba(0,0,0,.72);
    backdrop-filter:blur(10px);
    border-bottom:1px solid var(--border2);
  }
  .topbar-inner{
    max-width:1200px; margin:0 auto; padding:12px 16px;
    display:flex; align-items:center; justify-content:space-between; gap:12px;
  }
  .brand{ display:flex; align-items:center; gap:12px; min-width:180px; }
  .brand img{
    width:50px; height:50px;
    border-radius:18px;
    object-fit:cover;
    border:1px solid var(--border);
    background:#0b0b0b;
  }
  .brand span{ font-weight:900; letter-spacing:.6px; }

  .nav-tabs{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
  .tab{
    height:40px;
    display:inline-flex; align-items:center; justify-content:center;
    padding:0 14px;
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    font-weight:900;
    transition:.2s ease;
    white-space:nowrap;
    cursor:pointer;
    user-select:none;
  }
  .tab:hover{ transform:translateY(-1px); background:rgba(255,255,255,.12); }

  .top-actions{ display:flex; align-items:center; gap:10px; }
  .btn{
    height:40px;
    display:inline-flex; align-items:center; justify-content:center;
    border-radius:14px; padding:0 14px;
    font-weight:900; transition:.2s ease;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    color:#fff;
    white-space:nowrap;
    cursor:pointer;
  }
  .btn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.12); }
  .btn-solid{
    background:#fff; color:#000; border:1px solid #fff;
  }
  .btn-solid:hover{ background:#ccc; border-color:#ccc; }

  .top-socials{ display:flex; align-items:center; gap:8px; margin-left:6px; }
  .icon-btn{
    width:40px; height:40px;
    border-radius:14px;
    display:inline-flex; align-items:center; justify-content:center;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    transition:.2s ease;
  }
  .icon-btn:hover{ transform:translateY(-1px); background:rgba(255,255,255,.12); }
  .icon{ width:18px; height:18px; fill:#fff; }

  /* Language */
  .lang-wrap{ position:relative; display:flex; align-items:center; }
  .lang-btn{
    height:40px; padding:0 12px;
    border-radius:14px; border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    font-weight:900;
    display:inline-flex; align-items:center; gap:8px;
    transition:.2s ease;
    cursor:pointer;
  }
  .lang-btn:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }
  .caret{
    width:0; height:0;
    border-left:5px solid transparent;
    border-right:5px solid transparent;
    border-top:6px solid #fff;
    opacity:.9;
  }
  .lang-menu{
    position:absolute; right:0; top:48px;
    display:flex; flex-direction:column; gap:8px;
    padding:10px; border-radius:16px;
    border:1px solid var(--border);
    background:rgba(10,10,10,.96);
    backdrop-filter: blur(10px);
    transform-origin: top right;
    transform: translateY(-6px) scale(.98);
    opacity:0; pointer-events:none;
    transition:.18s ease;
    min-width:180px;
    z-index:1000;
  }
  .lang-wrap.open .lang-menu{
    transform: translateY(0) scale(1);
    opacity:1; pointer-events:auto;
  }
  .lang-option{
    display:flex; justify-content:space-between; align-items:center;
    padding:10px 12px; border-radius:14px;
    border:1px solid var(--border2);
    background:rgba(255,255,255,.06);
    font-weight:900; transition:.18s ease;
    cursor:pointer;
  }
  .lang-option:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }
  .checkmark{
    width:18px; height:18px;
    border-radius:6px; border:1px solid var(--border);
    display:inline-flex; align-items:center; justify-content:center;
    font-size:12px;
  }

  /* Mobile drawer */
  .hamburger{
    width:44px; height:44px;
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    display:none;
    align-items:center; justify-content:center;
    transition:.2s ease;
    cursor:pointer;
  }
  .hamburger:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }
  .hamburger span{
    width:18px; height:2px; background:#fff; border-radius:2px; position:relative; display:block;
  }
  .hamburger span::before, .hamburger span::after{
    content:""; position:absolute; left:0; width:18px; height:2px; background:#fff; border-radius:2px;
  }
  .hamburger span::before{ top:-6px; }
  .hamburger span::after{ top:6px; }

  .drawer-overlay{
    position:fixed; inset:0;
    background:rgba(0,0,0,.72);
    opacity:0; pointer-events:none;
    transition:.2s ease;
    z-index:200;
  }

  /* FIX #3: redesigned drawer (no scrolling needed) */
  .drawer{
    position:fixed; top:0; right:0;
    height:100%; width:min(86vw, 380px);
    background:#0b0b0b;
    border-left:1px solid var(--border2);
    transform:translateX(100%);
    transition:.2s ease;
    z-index:210;
    padding:16px 16px 18px;
    display:flex; flex-direction:column;
    gap:12px;
    overflow:hidden; /* no page-like scroll */
  }

  .drawer-top{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    padding-top:6px;
  }

  .drawer-socials{
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap;
  }
  .drawer-socials a{
    width:44px; height:44px;
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    display:inline-flex;
    align-items:center;
    justify-content:center;
    transition:.2s ease;
  }
  .drawer-socials a:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }

  .drawer .drawer-close{
    width:44px; height:44px;
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    cursor:pointer;
    display:inline-flex; align-items:center; justify-content:center;
    font-weight:900;
    color:#fff;
    flex:0 0 auto;
    transition:.2s ease;
  }
  .drawer .drawer-close:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }

  .drawer-title{
    font-weight:900;
    letter-spacing:.4px;
    opacity:.92;
    margin-top:2px;
  }

  .drawer-primary{
    display:grid;
    gap:10px;
    margin-top:6px;
  }

  .drawer a, .drawer button{
    display:flex;
    padding:14px 14px;
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    transition:.2s ease;
    font-weight:900;
    cursor:pointer;
    text-align:left;
    color:#fff;
    justify-content:flex-start;
  }
  .drawer a:hover, .drawer button:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }

  .drawer-spacer{
    flex:1 1 auto;
    min-height:10px;
  }

  .drawer-bottom{
    display:grid;
    gap:10px;
    padding-top:12px;
    border-top:1px solid rgba(255,255,255,.10);
  }

  .drawer-open .drawer-overlay{ opacity:1; pointer-events:auto; }
  .drawer-open .drawer{ transform:translateX(0); }

  /* Lock scroll when drawer open */
  body.drawer-open{ overflow:hidden; touch-action:none; }

  /* Banner */
  #community{ position:relative; text-align:center; padding:0; }
  #community img{ width:100%; max-height:420px; object-fit:cover; border-radius:0; }

  /* FIX #2: hero overlay container prevents overlap */
  .hero-overlay{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:18px;
    z-index:3;
    pointer-events:none;
  }
  .hero-box{
    width:min(920px, 94vw);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:14px;
    padding:14px 14px 16px;
    border-radius:20px;
    background:rgba(0,0,0,.28);
    border:1px solid rgba(255,255,255,.12);
    backdrop-filter: blur(8px);
  }
  .hero-text{
    position:static;
    transform:none;
    width:100%;
    font-weight:900; letter-spacing:.4px;
    font-size:clamp(18px, 2.2vw, 34px);
    text-shadow:0 10px 30px rgba(0,0,0,.55);
    padding:0 6px;
    pointer-events:none;
    line-height:1.15;
  }

  .community-btn a{
    position:static;
    transform:none;
    pointer-events:auto; /* clickable */
    padding:16px 26px;
    background:#fff; color:#000;
    border-radius:16px;
    font-weight:900; font-size:17px;
    transition:.2s ease;
    border:1px solid #fff;
    display:inline-flex;
    align-items:center;
    justify-content:center;
  }
  .community-btn a:hover{ background:#ccc; border-color:#ccc; transform:translateY(-1px); }

  /* Infinite strip */
  .strip{
    border-top:1px solid var(--border2);
    border-bottom:1px solid var(--border2);
    background:rgba(255,255,255,.03);
    overflow:hidden;
    display:flex;
    align-items:center;
  }
  .strip .marquee{
    display:flex;
    align-items:center;
    width:max-content;
    gap:26px;
    padding:14px 0;
    animation: marquee 18s linear infinite;
    will-change:transform;
  }
  .strip-item{
    display:inline-flex; align-items:center; gap:10px;
    height:40px;
    padding:0 14px;
    border-radius:999px;
    border:1px solid var(--border2);
    background:rgba(255,255,255,.05);
    font-weight:900; letter-spacing:.35px;
    white-space:nowrap;
  }
  .dot{ width:8px; height:8px; border-radius:999px; background:#fff; opacity:.9; }
  @keyframes marquee{ from{ transform:translateX(0); } to{ transform:translateX(-50%); } }

  /* Sections */
  .section-shell{
    background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
    border-top:1px solid var(--border2);
    border-bottom:1px solid var(--border2);
  }
  .section-shell.alt{ background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); }
  .container{ max-width:1200px; margin:0 auto; padding:20px; }
  .section-pad{ padding:70px 20px; text-align:center; }
  h2{ margin-bottom:22px; }

  /* Catalog */
  .controls{
    display:flex; gap:12px; justify-content:center; flex-wrap:wrap;
    margin: 0 0 22px;
  }
  .control{
    display:flex; align-items:center; gap:10px;
    padding:10px 12px;
    border-radius:16px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.05);
  }
  .control input{
    background:transparent; border:none; outline:none;
    color:#fff; font-weight:900;
    width:min(360px, 60vw);
  }
  .pill{
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    border-radius:999px;
    padding:8px 12px;
    font-weight:900;
    cursor:pointer;
    transition:.2s ease;
    user-select:none;
    white-space:nowrap;
  }
  .pill:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }
  .pill.active{ background:#fff; color:#000; border-color:#fff; }

  .catalog{
    display:grid;
    grid-template-columns:repeat(3, minmax(0, 1fr));
    gap:22px;
    justify-items:center;
  }
  @media (max-width: 980px){ .catalog{ grid-template-columns:repeat(2, minmax(0, 1fr)); } }
  @media (max-width: 560px){ .catalog{ grid-template-columns:1fr; } }

  .catalog-item{
    background:var(--card);
    padding:14px;
    border-radius:18px;
    width:100%;
    max-width:340px;
    text-align:left;
    transition:.2s ease;
    border:1px solid var(--border2);
    position:relative;
    overflow:hidden;
  }
  .catalog-item:hover{ transform:translateY(-6px); background:#151515; border-color:var(--border); }
  .thumb{
    border-radius:16px;
    overflow:hidden;
    margin-bottom:12px;
    border:1px solid rgba(255,255,255,.06);
    background:#0b0b0b;
  }
  .thumb img{ transition:none !important; transform:none !important; }

  .catalog-item h3{ margin:6px 0 10px; font-size:16px; line-height:1.2; }
  .catalog-actions{
    display:flex; align-items:center; gap:10px;
    position:relative; z-index:3;
  }
  .buy{
    flex:1;
    text-align:center;
    padding:10px 14px;
    background:#fff; color:#000;
    font-weight:900;
    border-radius:14px;
    transition:.2s ease;
    border:1px solid #fff;
  }
  .buy:hover{ background:#ccc; border-color:#ccc; transform:translateY(-1px); }
  .info-btn{
    width:44px; height:44px;
    border-radius:14px;
    display:inline-flex; align-items:center; justify-content:center;
    background:rgba(255,255,255,.06);
    border:1px solid var(--border);
    cursor:pointer;
    transition:.2s ease;
    font-weight:900;
    user-select:none;
  }
  .info-btn:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }

  /* Catalog pager */
  .catalog-pager{
    position:relative;
    max-width:1200px;
    margin:18px auto 0;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:12px;
  }
  .page-indicator{
    font-weight:900;
    opacity:.9;
    border:1px solid var(--border2);
    background:rgba(255,255,255,.04);
    padding:10px 14px;
    border-radius:999px;
  }
  .page-arrow{
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    width:54px; height:54px;
    border-radius:20px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:900;
    cursor:pointer;
    transition:.2s ease;
    user-select:none;
  }
  .page-arrow:hover{ background:rgba(255,255,255,.12); transform:translateY(-50%) translateY(-2px); }
  .page-arrow.left{ left:0; }
  .page-arrow.right{ right:0; }

  /* FAQ */
  .faq-grid{ max-width:900px; margin:0 auto; display:grid; gap:12px; text-align:left; }
  .faq-item{ border-radius:18px; border:1px solid var(--border2); background:rgba(255,255,255,.04); overflow:hidden; }
  .faq-q{
    width:100%;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    padding:16px 16px;
    cursor:pointer;
    font-weight:900;
    background:rgba(255,255,255,.05);
    border:none;
    color:#fff;
    text-align:left;
  }
  .faq-q:hover{ background:rgba(255,255,255,.08); }
  .faq-q .chev{
    width:42px; height:42px;
    border-radius:16px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.05);
    display:flex;
    align-items:center;
    justify-content:center;
    transition:.2s ease;
    flex:0 0 auto;
  }
  .faq-item.open .faq-q .chev{ transform:rotate(180deg); }
  .faq-a{ max-height:0; overflow:hidden; transition:max-height .28s ease; }
  .faq-a-inner{ padding:0 16px 16px; color:var(--muted); font-weight:700; }

  /* News */
  .news-one{
    max-width:900px;
    margin:0 auto;
    text-align:left;
    border-radius:22px;
    border:1px solid var(--border2);
    background:rgba(255,255,255,.04);
    overflow:hidden;
    transition:.2s ease;
    cursor:pointer;
    position:relative;
  }
  .news-one:hover{ transform:translateY(-4px); background:rgba(255,255,255,.06); border-color:var(--border); }
  .news-one-img{ background:#0b0b0b; border-bottom:1px solid rgba(255,255,255,.08); }
  .news-one-img img{ border-radius:0; }
  .news-one-body{ padding:16px; }
  .news-meta{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; color:var(--muted2); font-weight:900; font-size:12px; margin-bottom:10px; }
  .news-pill{
    border:1px solid var(--border2);
    background:rgba(255,255,255,.05);
    padding:6px 10px;
    border-radius:999px;
  }
  .news-title{ font-weight:900; font-size:18px; margin-bottom:8px; }
  .news-snippet{ color:var(--muted); font-weight:700; font-size:14px; }

  /* Sister */
  .sister-wrap{ display:flex; justify-content:center; }
  .sister-card{
    width:min(960px, 100%);
    background:linear-gradient(135deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
    border:1px solid var(--border2);
    border-radius:22px;
    padding:18px;
    display:grid;
    grid-template-columns: 120px 1fr auto;
    gap:16px;
    align-items:center;
    text-align:left;
    position:relative;
    overflow:hidden;
  }
  .sister-card::after{
    content:"";
    position:absolute; inset:-40%;
    background:linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
    transform:translateX(-60%) skewX(-20deg);
    animation: sisterShine 7s linear infinite;
    pointer-events:none;
  }
  @keyframes sisterShine{ 0%{transform:translateX(-60%) skewX(-20deg)} 100%{transform:translateX(60%) skewX(-20deg)} }
  .sister-logo{
    width:120px; height:120px;
    border-radius:22px;
    border:1px solid var(--border);
    background:#0b0b0b;
    padding:14px;
    object-fit:contain;
    position:relative;
    z-index:2;
  }
  .sister-info{ position:relative; z-index:2; }
  .sister-info h3{ margin-bottom:6px; font-size:20px; }
  .sister-info p{ color:var(--muted); font-weight:700; max-width:640px; }
  .sister-go{
    width:54px; height:54px;
    border-radius:18px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    display:inline-flex; align-items:center; justify-content:center;
    transition:.2s ease;
    position:relative;
    z-index:2;
  }
  .sister-go:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }
  .sister-go span{ font-weight:900; font-size:20px; }

  /* Contact */
  .contact p{ margin-bottom:10px; }

  /* Footer */
  footer{
    background:#0b0b0b;
    border-top:1px solid var(--border2);
    padding:26px 16px;
  }
  .footer-grid{
    max-width:1200px;
    margin:0 auto;
    display:grid;
    grid-template-columns: 0.9fr 0.9fr 1.2fr;
    gap:8px;
    align-items:start;
  }
  .footer-socials, .footer-pages{
    display:flex;
    flex-direction:column;
    gap:6px;
    align-items:flex-start;
  }
  .footer-logo{
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    min-height:230px;
    gap:10px;
  }
  .footer-logo img{
    width:230px;
    border-radius:22px;
    border:1px solid var(--border);
    background:#000;
  }
  .footer-link{
    display:inline-flex;
    padding:10px 12px;
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    font-weight:900;
    transition:.2s ease;
    min-width:170px;
    justify-content:center;
    color:#fff;
    cursor:pointer;
  }
  .footer-link:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }

  .footer-bottom{
    max-width:1200px;
    margin:18px auto 0;
    padding-top:16px;
    border-top:1px solid var(--border2);
    text-align:center;
  }
  .footer-copy{ font-weight:900; opacity:.95; }
  .footer-legal{
    margin-top:10px;
    display:flex; gap:14px;
    justify-content:center;
    flex-wrap:wrap;
  }
  .footer-legal a{
    font-size:12px;
    padding:8px 10px;
    border-radius:12px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    font-weight:800;
    transition:.2s ease;
    color:#fff;
  }
  .footer-legal a:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }

  /* Modals (base) */
  .modal-overlay{
    position:fixed; inset:0;
    background:rgba(0,0,0,.78);
    opacity:0; pointer-events:none;
    transition:.2s ease;
    z-index:9000;
  }
  .modal{
    position:fixed; left:50%; top:50%;
    transform:translate(-50%,-50%) scale(.98);
    width:min(980px, 92vw);
    max-height: calc(100vh - 24px);
    overflow:auto;
    -webkit-overflow-scrolling: touch;
    background:var(--panel);
    border:1px solid var(--border2);
    border-radius:18px;
    padding:16px;
    z-index:9010;
    opacity:0; pointer-events:none;
    transition:.2s ease;
  }
  .modal-header{
    display:flex; align-items:center; justify-content:space-between;
    gap:12px;
    padding:6px 6px 12px;
    position:sticky;
    top:0;
    background:linear-gradient(180deg, rgba(14,14,14,.98), rgba(14,14,14,.92));
    backdrop-filter: blur(8px);
    border-bottom:1px solid rgba(255,255,255,.08);
    z-index:2;
  }
  .modal-close{
    width:44px; height:44px;
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    cursor:pointer;
    display:inline-flex; align-items:center; justify-content:center;
    transition:.2s ease;
    font-weight:900;
    color:#fff;
  }
  .modal-close:hover{ background:rgba(255,255,255,.12); transform:translateY(-1px); }

  body.product-open #modalOverlay{ opacity:1; pointer-events:auto; }
  body.product-open #productModal{ opacity:1; pointer-events:auto; transform:translate(-50%,-50%) scale(1); }

  body.news-open #newsOverlay{ opacity:1; pointer-events:auto; }
  body.news-open #newsModal{ opacity:1; pointer-events:auto; transform:translate(-50%,-50%) scale(1); }

  body.ios-open #iosOverlay{ opacity:1; pointer-events:auto; }
  body.ios-open #iosModal{ opacity:1; pointer-events:auto; transform:translate(-50%,-50%) scale(1); }

  body.donate-open #donateOverlay{ opacity:1; pointer-events:auto; }
  body.donate-open #donateModal{ opacity:1; pointer-events:auto; transform:translate(-50%,-50%) scale(1); }

  .modal-body{
    display:grid;
    grid-template-columns: 1.05fr 1.25fr;
    gap:16px;
    padding:6px;
  }
  .main-image-wrap{
    position:relative;
    border-radius:16px;
    overflow:hidden;
    border:1px solid var(--border2);
    background:#0b0b0b;
  }
  .main-image-wrap img{ transition:none !important; transform:none !important; }
  .img-next, .img-prev{
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    width:44px; height:44px;
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(0,0,0,.35);
    cursor:pointer;
    display:flex; align-items:center; justify-content:center;
    transition:.2s ease;
    font-weight:900;
    color:#fff;
    backdrop-filter: blur(6px);
  }
  .img-prev{ left:12px; }
  .img-next{ right:12px; }
  .img-next:hover, .img-prev:hover{ background:rgba(255,255,255,.12); transform:translateY(-50%) translateY(-1px); }

  .thumb-row{
    margin-top:10px;
    display:grid;
    grid-template-columns:repeat(3, 1fr);
    gap:10px;
  }
  .thumb-btn{
    border-radius:14px;
    overflow:hidden;
    border:1px solid var(--border2);
    background:#0b0b0b;
    cursor:pointer;
    transition:.18s ease;
    padding:0;
  }
  .thumb-btn img{ transition:none !important; transform:none !important; }
  .thumb-btn:hover{ transform:translateY(-2px); border-color:var(--border); }

  .modal-right{ text-align:left; padding:6px; }
  .modal-right h2{ margin-bottom:10px; font-size:22px; }
  .modal-right p{ margin-bottom:10px; color:var(--muted); }

  .meta{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:10px;
    margin:14px 0 16px;
  }
  .chip{
    border-radius:14px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.06);
    padding:10px 12px;
    font-weight:900;
    font-size:14px;
    color:#fff;
  }
  .chip span{ opacity:.85; font-weight:800; }

  .modal-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; }
  .btn-mid{ min-width:120px; }

  /* News modal */
  .news-modal-body{
    display:grid;
    grid-template-columns: 1fr;
    gap:14px;
    padding:6px;
    text-align:left;
  }
  .news-modal-img{
    border-radius:16px;
    overflow:hidden;
    border:1px solid var(--border2);
    background:#0b0b0b;
  }
  .news-modal-img img{ border-radius:0; }
  .news-modal-title{ font-size:24px; font-weight:900; }
  .news-modal-meta{ display:flex; gap:10px; flex-wrap:wrap; }
  .news-modal-text{ color:var(--muted); font-weight:700; line-height:1.7; }

  /* iOS modal layout */
  .ios-body{
    display:grid;
    grid-template-columns: 1.1fr 0.9fr;
    gap:16px;
    padding:6px;
    text-align:left;
  }
  .ios-gallery{
    border:1px solid var(--border2);
    background:#0b0b0b;
    border-radius:16px;
    overflow:hidden;
  }
  .ios-gallery img{ border-radius:0; width:100%; height:auto; display:block; }
  .ios-thumbs{
    display:grid;
    grid-template-columns:repeat(5, 1fr);
    gap:10px;
    margin-top:10px;
  }
  .ios-thumb{
    border:1px solid var(--border2);
    background:#0b0b0b;
    border-radius:14px;
    overflow:hidden;
    cursor:pointer;
    transition:.18s ease;
    padding:0;
  }
  .ios-thumb:hover{ transform:translateY(-2px); border-color:var(--border); }
  .ios-thumb img{ border-radius:0; width:100%; height:auto; display:block; }

  .ios-steps{
    border:1px solid var(--border2);
    background:rgba(255,255,255,.04);
    border-radius:16px;
    padding:14px;
  }
  .ios-steps h3{ margin-bottom:10px; }
  .ios-steps ol{ padding-left:18px; }
  .ios-steps li{ margin-bottom:8px; color:var(--muted); font-weight:700; }
  .ios-note{
    margin-top:10px;
    border:1px solid var(--border2);
    border-radius:14px;
    padding:10px 12px;
    background:rgba(255,255,255,.04);
    color:var(--muted2);
    font-weight:800;
    font-size:13px;
  }

  /* Donate modal body */
  .donate-body{
    padding:10px 6px 6px;
    text-align:left;
    color:var(--muted);
    font-weight:700;
    line-height:1.7;
  }

  /* Back to top */
  .to-top{
    position:fixed;
    right:18px; bottom:18px;
    width:48px; height:48px;
    border-radius:18px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.08);
    backdrop-filter:blur(10px);
    display:flex; align-items:center; justify-content:center;
    font-weight:900;
    cursor:pointer;
    transition:.2s ease;
    opacity:0; pointer-events:none;
    z-index:3000;
    color:#fff;
  }
  .to-top:hover{ background:rgba(255,255,255,.14); transform:translateY(-2px); }
  .to-top.show{ opacity:1; pointer-events:auto; }

  /* Hide to-top when drawer is open (FIX #3) */
  body.drawer-open .to-top{ opacity:0 !important; pointer-events:none !important; }

  @media (max-width: 920px){ .nav-tabs{ display:none; } }

  @media (max-width: 768px){
    .hamburger{ display:inline-flex; }
    .top-actions .desktop-only{ display:none; }
    .top-socials{ display:none; }
    .lang-wrap{ display:none; }

    /* FIX #1: announcement wraps nicely */
    .announce-inner{
      justify-content:center;
      flex-wrap:wrap;
      row-gap:6px;
      padding:10px 14px;
    }
    .announce-text{
      white-space:normal;
      text-align:center;
      line-height:1.2;
      font-size:13px;
    }

    /* FIX #2: banner spacing */
    #community img{ max-height:360px; }
    .hero-box{
      padding:12px 12px 14px;
      gap:12px;
      border-radius:18px;
    }
    .community-btn a{ font-size:16px; padding:14px 20px; }
  }

  @media (max-width: 900px){
    .footer-grid{ grid-template-columns:1fr; text-align:center; gap:14px; }
    .footer-socials, .footer-pages{ align-items:center; }
    .footer-logo{ align-items:center; min-height:auto; }
  }

  @media (max-width: 880px){
    .modal-body{ grid-template-columns:1fr; }
    .ios-body{ grid-template-columns:1fr; }
    .ios-thumbs{ grid-template-columns:repeat(3, 1fr); }
  }

  /* FIX #4 + #5: smaller modals ONLY on mobile */
  @media (max-width: 560px){
    .modal{
      width: min(520px, 94vw);
      padding:12px;
      border-radius:16px;
    }
    .modal-header{
      padding:6px 4px 10px;
    }

    /* Product modal tighter */
    #productModal .modal-body{ gap:12px; }
    #productModal .modal-right h2{ font-size:20px; }
    #productModal .meta{ grid-template-columns:1fr; }
    #productModal .chip{ font-size:13px; padding:10px; }

    /* iOS modal tighter */
    #iosModal .ios-steps{ padding:12px; }
    #iosModal .ios-note{ font-size:12px; }
    #iosModal .ios-thumbs{ gap:8px; }
    #iosModal .ios-thumb{ border-radius:12px; }
  }

  @media (prefers-reduced-motion: reduce){
    .strip .marquee{ animation:none; }
    .reveal{ transition:none; }
    .shine{ animation:none; }
    html{ scroll-behavior:auto; }
  }
</style>
</head>

<body>
<div class="grain"></div>

<!-- Announcement -->
<div class="announce" id="announceBar">
  <div class="announce-inner" id="announceInner">
    <div class="shine"></div>
    <span class="announce-badge" id="annBadge">WELCOME</span>
    <div class="announce-text" id="annText">Welcome to Zafrili • Premium Roblox UGC Outfits</div>
  </div>
</div>

<!-- Progress -->
<div class="progress-wrap" aria-hidden="true" id="progressWrap">
  <div class="progress-bar" id="progressBar"></div>
</div>

<!-- Topbar -->
<div class="topbar" id="topbar">
  <div class="topbar-inner" id="topbarInner">
    <div class="brand">
      <img src="ourlogo.png" alt="Zafrili">
      <span>Zafrili</span>
    </div>

    <div class="nav-tabs" aria-label="Top navigation">
      <div class="tab" data-scroll="about" id="tabAbout">About Us</div>
      <div class="tab" data-scroll="faq" id="tabFaq">FAQ</div>
      <div class="tab" data-scroll="news" id="tabNews">News</div>
    </div>

    <div class="top-actions">
      <a class="btn desktop-only" href="https://www.roblox.com/communities/734952472/Zafrili#!/store" target="_blank" rel="noopener" data-no-i18n="1" id="storeBtn">Store</a>

      <a class="btn btn-solid desktop-only" href="#" rel="noopener" id="donateBtn">Donate to Support</a>

      <div class="top-socials desktop-only" aria-label="Social links">
        <a class="icon-btn" href="https://x.com/zafriliclothing" target="_blank" rel="noopener" aria-label="X" data-no-i18n="1">
          <svg class="icon" viewBox="0 0 24 24"><path d="M18.9 2H22l-6.8 7.8L23 22h-6.8l-5.3-6.8L4.9 22H2l7.4-8.5L1 2h7l4.8 6.2L18.9 2Zm-1.2 18h1.7L7.2 3.9H5.3L17.7 20Z"/></svg>
        </a>
        <a class="icon-btn" href="https://www.instagram.com/zafriliclothing/" target="_blank" rel="noopener" aria-label="Instagram" data-no-i18n="1">
          <svg class="icon" viewBox="0 0 24 24"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm10 2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3Zm-5 4a5 5 0 1 1 0 10 5 5 0 0 1 0-10Zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm5.2-.9a1.1 1.1 0 1 1 0 2.2 1.1 1.1 0 0 1 0-2.2Z"/></svg>
        </a>
        <a class="icon-btn" href="https://tiktok.com/@zafriliclothing" target="_blank" rel="noopener" aria-label="TikTok" data-no-i18n="1">
          <svg class="icon" viewBox="0 0 24 24"><path d="M16 2h2c.2 2 1.6 4.3 4 4.7V9c-1.7 0-3.1-.5-4-1.2V16a6 6 0 1 1-6-6c.4 0 .7 0 1 .1V13a3 3 0 1 0 3 3V2Z"/></svg>
        </a>
        <a class="icon-btn" href="https://youtube.com/@zafriliclothing" target="_blank" rel="noopener" aria-label="YouTube" data-no-i18n="1">
          <svg class="icon" viewBox="0 0 24 24"><path d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.7 4.6 12 4.6 12 4.6s-5.7 0-7.5.5A3 3 0 0 0 2.4 7.2 31 31 0 0 0 2 12a31 31 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.8.5 7.5.5 7.5.5s5.7 0 7.5-.5a3 3 0 0 0 2.1-2.1A31 31 0 0 0 22 12a31 31 0 0 0-.4-4.8ZM10 15.5v-7l6 3.5-6 3.5Z"/></svg>
        </a>
        <a class="icon-btn" href="https://www.linkedin.com/company/zafrili/" target="_blank" rel="noopener" aria-label="LinkedIn" data-no-i18n="1">
          <svg class="icon" viewBox="0 0 24 24"><path d="M4.98 3.5A2.5 2.5 0 1 1 5 8.5a2.5 2.5 0 0 1-.02-5ZM3 9h4v12H3V9Zm7 0h3.8v1.7h.1c.5-1 1.8-2 3.7-2 4 0 4.8 2.6 4.8 6V21h-4v-5.2c0-1.2 0-2.8-1.7-2.8s-2 1.3-2 2.7V21h-4V9Z"/></svg>
        </a>
      </div>

      <div class="lang-wrap desktop-only" id="langWrap">
        <button class="lang-btn" id="langBtn" type="button" aria-haspopup="menu" aria-expanded="false">
          <span id="langLabel">EN</span><span class="caret"></span>
        </button>
        <div class="lang-menu" id="langMenu" role="menu" aria-label="Language options">
          <div class="lang-option" data-lang="en" role="menuitem">English <span class="checkmark" id="checkEN">✓</span></div>
          <div class="lang-option" data-lang="fr" role="menuitem">Français <span class="checkmark" id="checkFR"></span></div>
        </div>
      </div>

      <button class="hamburger" id="hamburgerBtn" aria-label="Open menu"><span></span></button>
    </div>
  </div>
</div>

<!-- Drawer (mobile) -->
<div class="drawer-overlay" id="drawerOverlay"></div>

<div class="drawer" id="drawer" aria-label="Mobile menu">
  <div class="drawer-top">
    <div class="drawer-socials" aria-label="Social links">
      <a href="https://x.com/zafriliclothing" target="_blank" rel="noopener" aria-label="X" data-no-i18n="1">
        <svg class="icon" viewBox="0 0 24 24"><path d="M18.9 2H22l-6.8 7.8L23 22h-6.8l-5.3-6.8L4.9 22H2l7.4-8.5L1 2h7l4.8 6.2L18.9 2Zm-1.2 18h1.7L7.2 3.9H5.3L17.7 20Z"/></svg>
      </a>
      <a href="https://www.instagram.com/zafriliclothing/" target="_blank" rel="noopener" aria-label="Instagram" data-no-i18n="1">
        <svg class="icon" viewBox="0 0 24 24"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm10 2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3Zm-5 4a5 5 0 1 1 0 10 5 5 0 0 1 0-10Zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm5.2-.9a1.1 1.1 0 1 1 0 2.2 1.1 1.1 0 0 1 0-2.2Z"/></svg>
      </a>
      <a href="https://tiktok.com/@zafriliclothing" target="_blank" rel="noopener" aria-label="TikTok" data-no-i18n="1">
        <svg class="icon" viewBox="0 0 24 24"><path d="M16 2h2c.2 2 1.6 4.3 4 4.7V9c-1.7 0-3.1-.5-4-1.2V16a6 6 0 1 1-6-6c.4 0 .7 0 1 .1V13a3 3 0 1 0 3 3V2Z"/></svg>
      </a>
      <a href="https://youtube.com/@zafriliclothing" target="_blank" rel="noopener" aria-label="YouTube" data-no-i18n="1">
        <svg class="icon" viewBox="0 0 24 24"><path d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.7 4.6 12 4.6 12 4.6s-5.7 0-7.5.5A3 3 0 0 0 2.4 7.2 31 31 0 0 0 2 12a31 31 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.8.5 7.5.5 7.5.5s5.7 0 7.5-.5a3 3 0 0 0 2.1-2.1A31 31 0 0 0 22 12a31 31 0 0 0-.4-4.8ZM10 15.5v-7l6 3.5-6 3.5Z"/></svg>
      </a>
      <a href="https://www.linkedin.com/company/zafrili/" target="_blank" rel="noopener" aria-label="LinkedIn" data-no-i18n="1">
        <svg class="icon" viewBox="0 0 24 24"><path d="M4.98 3.5A2.5 2.5 0 1 1 5 8.5a2.5 2.5 0 0 1-.02-5ZM3 9h4v12H3V9Zm7 0h3.8v1.7h.1c.5-1 1.8-2 3.7-2 4 0 4.8 2.6 4.8 6V21h-4v-5.2c0-1.2 0-2.8-1.7-2.8s-2 1.3-2 2.7V21h-4V9Z"/></svg>
      </a>
    </div>

    <button class="drawer-close" id="drawerClose" aria-label="Close menu">✕</button>
  </div>

  <div class="drawer-title" id="drawerTitle">Menu</div>

  <div class="drawer-primary">
    <a href="https://www.roblox.com/communities/734952472/Zafrili#!/store" target="_blank" rel="noopener" data-no-i18n="1">Store</a>
    <a href="#" rel="noopener" id="drawerDonate">Donate to Support</a>
    <a href="https://www.roblox.com/communities/734952472/Zafrili#!/about" target="_blank" rel="noopener" data-no-i18n="1" id="drawerJoin">Join Community</a>
  </div>

  <div class="drawer-spacer"></div>

  <div class="drawer-bottom">
    <button type="button" class="btn" data-scroll="about" id="drawerAbout">About Us</button>
    <button type="button" class="btn" data-scroll="faq" id="drawerFaq">FAQ</button>
    <button type="button" class="btn" data-scroll="news" id="drawerNews">News</button>
  </div>
</div>

<!-- Banner -->
<section id="community" class="reveal">
  <img src="ourbannerzafrili.jpg" alt="Shop Zafrili Today on Roblox!" />

  <div class="hero-overlay">
    <div class="hero-box">
      <div class="hero-text" id="heroText">Shop Zafrili Today on Roblox!</div>
      <div class="community-btn">
        <a href="https://www.roblox.com/communities/734952472/Zafrili#!/about" target="_blank" rel="noopener" id="joinBtn" data-no-i18n="1">Join Community</a>
      </div>
    </div>
  </div>
</section>

<!-- Infinite strip -->
<div class="strip reveal" aria-hidden="true">
  <div class="marquee" id="marquee">
    <div class="strip-item"><span class="dot"></span><span id="strip1">NEW DROPS • ALWAYS CLEAN</span></div>
    <div class="strip-item"><span class="dot"></span><span id="strip2">BLACK & WHITE • SIGNATURE</span></div>
    <div class="strip-item"><span class="dot"></span><span id="strip3">SHOP IN ROBLOX • FAST</span></div>
    <div class="strip-item"><span class="dot"></span><span id="strip4">ZAFRILI • EST. 2026</span></div>
  </div>
</div>

<!-- ABOUT -->
<div class="section-shell reveal" id="about">
  <div class="container section-pad">
    <h2 id="aboutTitle">About Us</h2>
    <p id="aboutText" style="color:var(--muted); max-width:900px; margin:0 auto; font-weight:700;">
      Zafrili is built for clean, modern Roblox outfits — black & white branding, minimal design, and a premium feel across every experience.
    </p>
  </div>
</div>

<!-- CATALOG -->
<div class="section-shell alt reveal" id="catalog">
  <div class="container section-pad">
    <h2 id="catalogTitle">Our Catalog</h2>

    <div class="controls" aria-label="Catalog controls">
      <div class="control">
        <span style="font-weight:900; opacity:.9;" id="searchLabel">Search</span>
        <input id="searchInput" type="text" placeholder="Search items..." />
      </div>

      <div class="control" style="gap:8px;">
        <span class="pill active" data-filter="all" id="pillAll">All</span>
        <span class="pill" data-filter="Classic Shirt" id="pillShirt">Classic Shirt</span>
        <span class="pill" data-filter="Pants" id="pillPants">Pants</span>
      </div>
    </div>

    <div class="catalog" id="catalogGrid"></div>

    <div class="catalog-pager" id="catalogPager" style="display:none;">
      <div class="page-arrow left" id="pagePrev" style="display:none;">‹</div>
      <div class="page-indicator" id="pageIndicator">1 / 1</div>
      <div class="page-arrow right" id="pageNext" style="display:none;">›</div>
    </div>
  </div>
</div>

<!-- FAQ -->
<div class="section-shell reveal" id="faq">
  <div class="container section-pad">
    <h2 id="faqTitle">FAQ</h2>

    <div class="faq-grid" id="faqGrid">
      <div class="faq-item">
        <button class="faq-q" type="button">
          <span class="faq-q-text" id="faqQ1">Where do I buy Zafrili items?</span>
          <span class="chev">⌄</span>
        </button>
        <div class="faq-a"><div class="faq-a-inner" id="faqA1">All purchases happen in Roblox using the official product links on this website.</div></div>
      </div>

      <div class="faq-item">
        <button class="faq-q" type="button">
          <span class="faq-q-text" id="faqQ2">Are items tradeable?</span>
          <span class="chev">⌄</span>
        </button>
        <div class="faq-a"><div class="faq-a-inner" id="faqA2">Most clothing items are not tradeable. Check the product popup for each item’s details.</div></div>
      </div>

      <div class="faq-item">
        <button class="faq-q" type="button">
          <span class="faq-q-text" id="faqQ3">How do I wear the outfit in Roblox?</span>
          <span class="chev">⌄</span>
        </button>
        <div class="faq-a"><div class="faq-a-inner" id="faqA3">After buying, open your Roblox Avatar Editor and equip the shirt/pants from your inventory.</div></div>
      </div>

      <div class="faq-item">
        <button class="faq-q" type="button">
          <span class="faq-q-text" id="faqQ4">I have a question — how do I contact you?</span>
          <span class="chev">⌄</span>
        </button>
        <div class="faq-a"><div class="faq-a-inner" id="faqA4">Email us at <span data-no-i18n="1">contact.zafrili@gmail.com</span> and we’ll get back to you.</div></div>
      </div>
    </div>
  </div>
</div>

<!-- NEWS -->
<div class="section-shell alt reveal" id="news">
  <div class="container section-pad">
    <h2 id="newsTitle">News</h2>

    <div class="news-one" id="newsCard" role="button" aria-label="Open news article">
      <div class="news-one-img" id="newsCardImgWrap" style="display:none;">
        <img id="newsCardImg" src="" alt="News image">
      </div>
      <div class="news-one-body">
        <div class="news-meta">
          <span class="news-pill" id="newsCardDate">01/05/2026</span>
          <span class="news-pill" id="newsCardBy">Zafrili</span>
        </div>
        <div class="news-title" id="newsCardHeadline">Zafrili Launch Week</div>
        <div class="news-snippet" id="newsCardSnippet">Welcome to the official Zafrili site. New drops, new updates, and more coming soon...</div>
      </div>
    </div>
  </div>
</div>

<!-- Sister -->
<div class="section-shell reveal" id="sister">
  <div class="container section-pad">
    <h2 id="sisterTitle">Sister Companies</h2>
    <div class="sister-wrap">
      <div class="sister-card">
        <img class="sister-logo" src="Transparent Bombforge Logo.png" alt="BombForge">
        <div class="sister-info">
          <h3>BombForge</h3>
          <p id="sisterDesc">A sister company focused on building experiences and creative projects.</p>
        </div>
        <a class="sister-go" href="https://fortnite.com/@bombforge" target="_blank" rel="noopener" aria-label="Go to BombForge website" data-no-i18n="1">
          <span>→</span>
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Contact -->
<div class="section-shell alt reveal" id="contact">
  <div class="container section-pad">
    <h2 id="contactTitle">Contact Us</h2>
    <p style="color:var(--muted); margin-bottom:10px; font-weight:700;" id="contactDesc">
      If you have any questions or inquiries, feel free to reach out to us!
    </p>
    <p style="font-weight:900;">
      <span id="emailLabel">Email us at:</span>
      <a href="mailto:contact.zafrili@gmail.com" style="text-decoration:underline;" data-no-i18n="1">contact.zafrili@gmail.com</a>
    </p>
  </div>
</div>

<!-- Footer -->
<footer class="reveal">
  <div class="footer-grid">
    <div class="footer-socials">
      <a class="footer-link" href="https://x.com/zafriliclothing" target="_blank" rel="noopener" data-no-i18n="1">X</a>
      <a class="footer-link" href="https://www.instagram.com/zafriliclothing/" target="_blank" rel="noopener" data-no-i18n="1">Instagram</a>
      <a class="footer-link" href="https://tiktok.com/@zafriliclothing" target="_blank" rel="noopener" data-no-i18n="1">TikTok</a>
      <a class="footer-link" href="https://youtube.com/@zafriliclothing" target="_blank" rel="noopener" data-no-i18n="1">YouTube</a>
      <a class="footer-link" href="https://www.linkedin.com/company/zafrili/" target="_blank" rel="noopener" data-no-i18n="1">LinkedIn</a>
    </div>

    <div class="footer-pages">
      <button class="footer-link" type="button" data-scroll="about" id="aboutLink">About Us</button>
      <button class="footer-link" type="button" data-scroll="faq" id="faqLink">FAQ</button>
      <button class="footer-link" type="button" data-scroll="news" id="newsLink">News</button>
    </div>

    <div class="footer-logo">
      <img src="ourlogo.png" alt="Zafrili Logo">
      <button class="footer-link" id="iosBtn" type="button">Available on iOS</button>
    </div>
  </div>

  <div class="footer-bottom">
    <div class="footer-copy" id="footerCopy">
      ©2026. Zafrili. All Rights Reserved. All purchases happen in Roblox.
    </div>
    <div class="footer-legal">
      <a href="terms.html" id="termsLink">Terms and Conditions</a>
      <a href="privacy.html" id="privacyLink">Privacy Policy</a>
    </div>
  </div>
</footer>

<button class="to-top" id="toTopBtn" aria-label="Back to top">↑</button>

<!-- PRODUCT MODAL -->
<div class="modal-overlay" id="modalOverlay"></div>
<div class="modal" id="productModal" role="dialog" aria-modal="true" aria-label="Product details">
  <div class="modal-header">
    <strong style="opacity:.92;" id="modalHeader">Product Details</strong>
    <button class="modal-close" id="modalClose" aria-label="Close">✕</button>
  </div>

  <div class="modal-body">
    <div class="modal-left">
      <div class="main-image-wrap">
        <img id="modalMainImg" src="" alt="Product image">
        <button class="img-prev" id="imgPrevBtn" aria-label="Previous image">‹</button>
        <button class="img-next" id="imgNextBtn" aria-label="Next image">›</button>
      </div>
      <div class="thumb-row" id="modalThumbRow"></div>
    </div>

    <div class="modal-right">
      <h2 id="modalTitle"></h2>
      <p id="modalDesc"></p>

      <div class="meta">
        <div class="chip"><span id="madeByLabel">Made by:</span> <span id="modalMadeBy"></span></div>
        <div class="chip"><span id="tradeableLabel">Tradeable:</span> <span id="modalTrade"></span></div>
        <div class="chip"><span id="typeLabel">Type:</span> <span id="modalType"></span></div>
        <div class="chip"><span id="createdLabel">Created:</span> <span id="modalCreated"></span></div>
      </div>

      <div class="modal-actions">
        <a class="btn btn-solid" id="modalBuy" href="#" target="_blank" rel="noopener" data-no-i18n="1">Buy Now</a>
        <button class="btn btn-mid" id="prevItemBtn" type="button">Previous</button>
        <button class="btn btn-mid" id="nextItemBtn" type="button">Next Item</button>
      </div>
    </div>
  </div>
</div>

<!-- NEWS MODAL -->
<div class="modal-overlay" id="newsOverlay"></div>
<div class="modal" id="newsModal" role="dialog" aria-modal="true" aria-label="News article">
  <div class="modal-header">
    <strong style="opacity:.92;" id="newsModalHeader">News</strong>
    <button class="modal-close" id="newsClose" aria-label="Close">✕</button>
  </div>

  <div class="news-modal-body">
    <div class="news-modal-img" id="newsModalImgWrap" style="display:none;">
      <img id="newsModalImg" src="" alt="News image">
    </div>
    <div class="news-modal-title" id="newsModalTitle"></div>
    <div class="news-modal-meta">
      <span class="news-pill" id="newsModalBy"></span>
      <span class="news-pill" id="newsModalDate"></span>
    </div>
    <div class="news-modal-text" id="newsModalText"></div>
  </div>
</div>

<!-- iOS MODAL -->
<div class="modal-overlay" id="iosOverlay"></div>
<div class="modal" id="iosModal" role="dialog" aria-modal="true" aria-label="Add to Home Screen on iOS">
  <div class="modal-header">
    <strong style="opacity:.92;" id="iosHeader">Add Zafrili to your Home Screen</strong>
    <button class="modal-close" id="iosClose" aria-label="Close">✕</button>
  </div>

  <div class="ios-body">
    <div>


      <div class="ios-thumbs" id="iosThumbs">
        <button class="ios-thumb" type="button" data-src="ios1.png"><img src="ios1.jpeg" alt="Step 1"></button>
        <button class="ios-thumb" type="button" data-src="ios2.png"><img src="ios2.png" alt="Step 2"></button>
        <button class="ios-thumb" type="button" data-src="ios3.png"><img src="ios3.jpeg" alt="Step 3"></button>
        <button class="ios-thumb" type="button" data-src="ios4.png"><img src="ios4.jpeg" alt="Step 4"></button>
        <button class="ios-thumb" type="button" data-src="ios5.png"><img src="ios5.jpeg" alt="Step 5"></button>
      </div>
    </div>

    <div class="ios-steps">
      <h3 id="iosStepsTitle">How to add it</h3>
      <ol>
        <li id="iosStep1">Open this website in Safari on your iPhone.</li>
        <li id="iosStep2">Tap the Share button (square with arrow).</li>
        <li id="iosStep3">Scroll and tap “Add to Home Screen”.</li>
        <li id="iosStep4">Rename it if you want, then tap “Add”.</li>
        <li id="iosStep5">Zafrili will appear on your Home Screen like an app.</li>
      </ol>
      <div class="ios-note" id="iosNote">
        Tip: If you don’t see “Add to Home Screen”, make sure you’re using Safari.
      </div>
    </div>
  </div>
</div>

<!-- DONATE MODAL -->
<div class="modal-overlay" id="donateOverlay"></div>
<div class="modal" id="donateModal" role="dialog" aria-modal="true" aria-label="Donate">
  <div class="modal-header">
    <strong style="opacity:.92;" id="donateHeader">Donate</strong>
    <button class="modal-close" id="donateClose" aria-label="Close">✕</button>
  </div>
  <div class="donate-body" id="donateBody">
    Donations are coming soon. If you want to support right now, email us at
    <span data-no-i18n="1">contact.zafrili@gmail.com</span> and we’ll set it up.
  </div>
</div>

<script>
  /* =========================
     EDITABLE DATA (VS CODE)
     ========================= */

  const CATALOG_ITEMS = [
    {
      title: "Zafrili Signature Hoodie",
      img: "Zafrili Signature Hoodie.webp",
      buy: "https://www.roblox.com/catalog/134274798199419/Zafrili-Signature-Hoodie",
      description: "A sleek, all-black hoodie designed to represent the core of Zafrili. Minimal branding, modern fit, and built for everyday wear across Roblox experiences. Simple, bold, and unmistakably Zafrili.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Classic Shirt",
      created: "01/05/2026",
      images: ["Zafrili Signature Hoodie.webp"]
    },
    {
      title: "Zafrili Arabic Hoodie",
      img: "Zafrili Arabic Hoodie.webp",
      buy: "https://www.roblox.com/catalog/76283491111348/Zafrili-Arabic-Hoodie",
      description: "A clean black hoodie featuring Zafrili’s Arabic logo. Minimal design with a strong identity, perfect for any Roblox outfit.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Classic Shirt",
      created: "01/05/2026",
      images: ["Zafrili Arabic Hoodie.webp"]
    },
    {
      title: "Zafrili Signature Pants Left",
      img: "Zafrili Signature Pants.webp",
      buy: "https://www.roblox.com/catalog/137064414737066/Zafrili-Signature-Pants",
      description: "A sleek, all-black Pants designed to represent the core of Zafrili. Minimal branding, modern fit, and built for everyday wear across Roblox experiences. Simple, bold, and unmistakably Zafrili.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Pants",
      created: "01/05/2026",
      images: ["Zafrili Signature Pants.webp"]
    },
    {
      title: "Zafrili Arabic Pants Right",
      img: "Zafrili Arabic Pants.webp",
      buy: "https://www.roblox.com/catalog/103277639180231/Zafrili-Arabic-Pants",
      description: "A clean black Pants featuring Zafrili’s Arabic logo. Minimal design with a strong identity, perfect for any Roblox outfit.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Pants",
      created: "01/05/2026",
      images: ["Zafrili Arabic Pants.webp"]
    },
    {
      title: "Zafrili Caravan Hoodie",
      img: "Zafrili Caravan Hoodie.webp",
      buy: "https://www.roblox.com/catalog/140326240782362/Zafrili-Caravan-Hoodie",
      description: "A black hoodie featuring Zafrili’s Caravan logo, two palm trees framing a moving caravan of camels and people, finished with the Zafrili name and EST. 2026. Inspired by journey, culture, and modern streetwear, this piece represents the path forward in Roblox style.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Classic Shirt",
      created: "01/05/2026",
      images: ["Zafrili Caravan Hoodie.webp"]
    },
    {
      title: "Zafrili Red Palm Hoodie",
      img: "Zafrili Red Palm Hoodie.webp",
      buy: "https://www.roblox.com/catalog/100302031942424/Zafrili-Red-Palm-Hoodie",
      description: "A black hoodie featuring a clean Zafrili logo on the front and a bold red palm tree graphic on the back. Designed with contrast in mind, this piece balances minimal branding up front with a statement finish. Modern, recognizable, and built for everyday Roblox wear.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Classic Shirt",
      created: "01/05/2026",
      images: ["Zafrili Red Palm Hoodie.webp"]
    },
    {
      title: "Zafrili Arabic Red Palm Pants Left",
      img: "Zafrili Arabic Red Palm Pants.webp",
      buy: "https://www.roblox.com/catalog/96933347108622/Zafrili-Arabic-Red-Palm-Pants",
      description: "Black pants featuring Zafrili’s name in Arabic on the left leg, layered with a bold red palm tree graphic behind the text. Designed to balance cultural identity with modern streetwear, this piece brings a clean silhouette with a striking signature detail.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Pants",
      created: "01/05/2026",
      images: ["Zafrili Arabic Red Palm Pants.webp", "Zafrili Arabic Red Palm Pants right.webp"]
    },
    {
      title: "Zafrili Arabic Red Palm Pants Right",
      img: "Zafrili Arabic Red Palm Pants right.webp",
      buy: "https://www.roblox.com/catalog/106045853749814/Zafrili-Arabic-Red-Palm-Pants",
      description: "Black pants featuring Zafrili’s name in Arabic on the Right leg, layered with a bold red palm tree graphic behind the text. Designed to balance cultural identity with modern streetwear, this piece brings a clean silhouette with a striking signature detail.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Pants",
      created: "01/05/2026",
      images: ["Zafrili Arabic Red Palm Pants right.webp", "Zafrili Arabic Red Palm Pants.webp"]
    },
    {
      title: "Zip Up Zafrili Arabic Red Palm Hoodie",
      img: "Zip Up Zafrili Arabic Red Palm Hoodie.webp",
      buy: "https://www.roblox.com/catalog/75342636171427/Zip-Up-Zafrili-Arabic-Red-Palm-Hoodie",
      description: "A black zip-up hoodie with Zafrili in Arabic and a red palm tree graphic. Clean, modern, and designed for everyday Roblox outfits.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Classic Shirt",
      created: "01/05/2026",
      images: ["Zip Up Zafrili Arabic Red Palm Hoodie.webp"]
    },
    {
      title: "Zip Up Zafrili Red Palm Hoodie",
      img: "Zip Up Zafrili Red Palm Hoodie.webp",
      buy: "https://www.roblox.com/catalog/113303618929361/Zip-Up-Zafrili-Red-Palm-Hoodie",
      description: "A black zip-up hoodie featuring a clean Zafrili logo on the front and a bold red palm tree graphic on the back. Clean, modern, and made for everyday Roblox wear.",
      madeBy: "Zafrili",
      tradeable: "No",
      type: "Classic Shirt",
      created: "01/05/2026",
      images: ["Zip Up Zafrili Red Palm Hoodie.webp"]
    },
  ];

  const NEWS_ARTICLE = {
    image: "",
    headline: "Zafrili Launches Its New Website With a Faster, Smarter Experience",
    by: "By: Zafrili",
    date: "01/09/2026",
    text: "Zafrili has officially launched its newly redesigned website, delivering a cleaner interface, improved performance, and a more intuitive user experience across all devices. The update focuses on making it easier for users to explore Roblox UGC outfits, view catalog details, and stay up to date with the latest news—all in one streamlined platform. The new website introduces smoother navigation, refined visuals, and optimized functionality designed for both desktop and mobile users. This launch marks an important step in Zafrili’s continued commitment to improving accessibility, usability, and overall quality for its growing community.  More features and enhancements are planned as Zafrili continues to evolve the platform and expand its offerings. ",
  };

  /* =========================
     Behavior
     ========================= */

  const body = document.body;

  /* ===== NEW: sticky height calculation (Fix #1) ===== */
  const announceBar = document.getElementById('announceBar');
  const progressWrap = document.getElementById('progressWrap');
  const topbar = document.getElementById('topbar');

  function updateStickyHeights(){
    const annH = announceBar ? announceBar.offsetHeight : 44;
    const progH = progressWrap ? progressWrap.offsetHeight : 3;
    const topH = topbar ? topbar.offsetHeight : 64;
    document.documentElement.style.setProperty('--ann-h', annH + 'px');
    document.documentElement.style.setProperty('--prog-h', progH + 'px');
    document.documentElement.style.setProperty('--top-h', topH + 'px');
  }
  window.addEventListener('resize', updateStickyHeights, { passive:true });
  window.addEventListener('load', updateStickyHeights);
  updateStickyHeights();

  // Drawer
  const hamburgerBtn = document.getElementById('hamburgerBtn');
  const drawerOverlay = document.getElementById('drawerOverlay');
  const drawerClose = document.getElementById('drawerClose');
  const toTopBtn = document.getElementById('toTopBtn');

  function openDrawer(){
    body.classList.add('drawer-open');
    // optional: keep focus on close button for accessibility
    try { drawerClose.focus(); } catch(e){}
  }
  function closeDrawer(){
    body.classList.remove('drawer-open');
  }

  hamburgerBtn.addEventListener('click', (e) => { e.preventDefault(); openDrawer(); });
  drawerOverlay.addEventListener('click', closeDrawer);
  drawerClose.addEventListener('click', closeDrawer);

  // Scroll to sections (keep URL clean)
  function scrollToSection(id){
    const el = document.getElementById(id);
    if(!el) return;
    el.scrollIntoView({ behavior:'smooth', block:'start' });
    try { history.replaceState(null, "", location.pathname + location.search); } catch(e){}
  }
  document.querySelectorAll('[data-scroll]').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      closeDrawer();
      scrollToSection(btn.dataset.scroll);
    });
  });

  // Progress + to-top
  const progressBar = document.getElementById('progressBar');
  function onScrollUI(){
    // If drawer is open, do nothing (Fix #3)
    if(body.classList.contains('drawer-open')) return;

    const doc = document.documentElement;
    const scrollTop = doc.scrollTop || document.body.scrollTop;
    const scrollHeight = doc.scrollHeight - doc.clientHeight;
    const pct = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
    progressBar.style.width = pct + "%";
    if(scrollTop > 500) toTopBtn.classList.add('show');
    else toTopBtn.classList.remove('show');
  }
  window.addEventListener('scroll', onScrollUI, { passive:true });
  onScrollUI();
  toTopBtn.addEventListener('click', () => window.scrollTo({ top:0, behavior:'smooth' }));

  // Reveal
  const revealEls = document.querySelectorAll('.reveal');
  const io = new IntersectionObserver((entries) => {
    entries.forEach(en => {
      if(en.isIntersecting){
        en.target.classList.add('show');
        io.unobserve(en.target);
      }
    });
  }, { threshold: 0.12 });
  revealEls.forEach(el => io.observe(el));

  // Marquee clone
  (function setupMarquee(){
    const marquee = document.getElementById('marquee');
    const items = Array.from(marquee.children);
    items.forEach(node => marquee.appendChild(node.cloneNode(true)));
  })();

  // FAQ accordion
  document.querySelectorAll('.faq-item').forEach(item => {
    const btn = item.querySelector('.faq-q');
    const ans = item.querySelector('.faq-a');
    btn.addEventListener('click', () => {
      const isOpen = item.classList.contains('open');
      document.querySelectorAll('.faq-item.open').forEach(o => {
        if(o !== item){
          o.classList.remove('open');
          o.querySelector('.faq-a').style.maxHeight = '0px';
        }
      });
      if(isOpen){
        item.classList.remove('open');
        ans.style.maxHeight = '0px';
      }else{
        item.classList.add('open');
        ans.style.maxHeight = ans.scrollHeight + 'px';
      }
    });
  });

  /* ========= Language ========= */
  const langWrap = document.getElementById('langWrap');
  const langBtn = document.getElementById('langBtn');
  const langMenu = document.getElementById('langMenu');
  const langLabel = document.getElementById('langLabel');
  const checkEN = document.getElementById('checkEN');
  const checkFR = document.getElementById('checkFR');
  let currentLang = 'en';

  const i18n = {
    en: {
      annBadge: "WELCOME",
      annText: "Welcome to Zafrili • Premium Roblox UGC Outfits",
      hero: "Shop Zafrili Today on Roblox!",
      donate: "Donate to Support",
      tabAbout: "About Us",
      tabFaq: "FAQ",
      tabNews: "News",
      strip1: "NEW DROPS • ALWAYS CLEAN",
      strip2: "BLACK & WHITE • SIGNATURE",
      strip3: "SHOP IN ROBLOX • FAST",
      strip4: "ZAFRILI • EST. 2026",
      aboutTitle: "About Us",
      aboutText:
        "Zafrili is built for clean, modern Roblox outfits — black & white branding, minimal design, and a premium feel across every experience.",
      catalogTitle: "Our Catalog",
      searchLabel: "Search",
      searchPH: "Search items...",
      pillAll: "All",
      pillShirt: "Classic Shirt",
      pillPants: "Pants",
      faqTitle: "FAQ",
      faqQ1: "Where do I buy Zafrili items?",
      faqA1: "All purchases happen in Roblox using the official product links on this website.",
      faqQ2: "Are items tradeable?",
      faqA2: "Most clothing items are not tradeable. Check the product popup for each item’s details.",
      faqQ3: "How do I wear the outfit in Roblox?",
      faqA3: "After buying, open your Roblox Avatar Editor and equip the shirt/pants from your inventory.",
      faqQ4: "I have a question — how do I contact you?",
      faqA4: "Email us at contact.zafrili@gmail.com and we’ll get back to you.",
      newsTitle: "News",
      sisterTitle: "Sister Companies",
      sisterDesc: "A sister company focused on building experiences and creative projects.",
      contactTitle: "Contact Us",
      contactDesc: "If you have any questions or inquiries, feel free to reach out to us!",
      emailLabel: "Email us at:",
      footerCopy: "©2026. Zafrili. All Rights Reserved. All purchases happen in Roblox.",
      terms: "Terms and Conditions",
      privacy: "Privacy Policy",
      modalHeader: "Product Details",
      madeBy: "Made by:",
      tradeable: "Tradeable:",
      type: "Type:",
      created: "Created:",
      prev: "Previous",
      next: "Next Item",
      drawerTitle: "Menu",
      drawerAbout: "About Us",
      drawerFaq: "FAQ",
      drawerNews: "News",
      iosBtn: "Available on iOS",
      iosHeader: "Add Zafrili to your Home Screen",
      iosStepsTitle: "How to add it",
      iosStep1: "Open this website in Safari on your iPhone.",
      iosStep2: "Tap the Share button (square with arrow).",
      iosStep3: "Scroll and tap “Add to Home Screen”.",
      iosStep4: "Rename it if you want, then tap “Add”.",
      iosStep5: "Zafrili will appear on your Home Screen like an app.",
      iosNote: "Tip: If you don’t see “Add to Home Screen”, make sure you’re using Safari."
    },
    fr: {
      annBadge: "BIENVENUE",
      annText: "Bienvenue sur Zafrili • Tenues Roblox UGC Premium",
      hero: "Achetez Zafrili sur Roblox !",
      donate: "Faire un don",
      tabAbout: "À propos",
      tabFaq: "FAQ",
      tabNews: "Actualités",
      strip1: "NOUVEAUTÉS • TOUJOURS PROPRE",
      strip2: "NOIR & BLANC • SIGNATURE",
      strip3: "ACHETER SUR ROBLOX • RAPIDE",
      strip4: "ZAFRILI • EST. 2026",
      aboutTitle: "À propos",
      aboutText:
        "Zafrili crée des tenues Roblox propres et modernes — identité noir & blanc, design minimal, et une finition premium sur toute l’expérience.",
      catalogTitle: "Notre catalogue",
      searchLabel: "Rechercher",
      searchPH: "Rechercher des articles...",
      pillAll: "Tout",
      pillShirt: "T-shirt classique",
      pillPants: "Pantalon",
      faqTitle: "FAQ",
      faqQ1: "Où acheter les articles Zafrili ?",
      faqA1: "Tous les achats se font sur Roblox via les liens officiels sur ce site.",
      faqQ2: "Les articles sont-ils échangeables ?",
      faqA2: "La plupart des vêtements ne sont pas échangeables. Vérifiez la fenêtre d’info de chaque article.",
      faqQ3: "Comment porter la tenue dans Roblox ?",
      faqA3: "Après l’achat, ouvrez l’éditeur d’avatar Roblox et équipez le t-shirt/pantalon depuis votre inventaire.",
      faqQ4: "J’ai une question — comment vous contacter ?",
      faqA4: "Écrivez-nous à contact.zafrili@gmail.com et nous vous répondrons.",
      newsTitle: "Actualités",
      sisterTitle: "Sociétés associées",
      sisterDesc: "Une société associée axée sur la création d’expériences et de projets créatifs.",
      contactTitle: "Nous contacter",
      contactDesc: "Si vous avez des questions ou des demandes, n’hésitez pas à nous contacter !",
      emailLabel: "Écrivez-nous à :",
      footerCopy: "©2026. Zafrili. Tous droits réservés. Tous les achats se font sur Roblox.",
      terms: "Conditions générales",
      privacy: "Politique de confidentialité",
      modalHeader: "Détails du produit",
      madeBy: "Créé par :",
      tradeable: "Échangeable :",
      type: "Type :",
      created: "Créé :",
      prev: "Précédent",
      next: "Suivant",
      drawerTitle: "Menu",
      drawerAbout: "À propos",
      drawerFaq: "FAQ",
      drawerNews: "Actualités",
      iosBtn: "Disponible sur iOS",
      iosHeader: "Ajouter Zafrili à l’écran d’accueil",
      iosStepsTitle: "Comment l’ajouter",
      iosStep1: "Ouvrez ce site dans Safari sur votre iPhone.",
      iosStep2: "Touchez le bouton Partager (carré avec flèche).",
      iosStep3: "Faites défiler et touchez « Sur l’écran d’accueil ». ",
      iosStep4: "Renommez si vous voulez, puis touchez « Ajouter ».",
      iosStep5: "Zafrili apparaîtra sur votre écran d’accueil comme une appli.",
      iosNote: "Astuce : si « Sur l’écran d’accueil » n’apparaît pas, utilisez Safari."
    }
  };

  function setText(id, value){
    const el = document.getElementById(id);
    if(!el) return;
    if(el.hasAttribute('data-no-i18n')) return;
    el.textContent = value;
  }

  function applyLanguage(lang){
    currentLang = (lang === 'fr') ? 'fr' : 'en';
    const t = i18n[currentLang];

    langLabel.textContent = (currentLang === 'fr') ? 'FR' : 'EN';
    checkEN.textContent = (currentLang === 'en') ? '✓' : '';
    checkFR.textContent = (currentLang === 'fr') ? '✓' : '';

    setText('annBadge', t.annBadge);
    setText('annText', t.annText);
    setText('heroText', t.hero);
    setText('donateBtn', t.donate);
    setText('drawerDonate', t.donate);

    setText('tabAbout', t.tabAbout);
    setText('tabFaq', t.tabFaq);
    setText('tabNews', t.tabNews);

    setText('strip1', t.strip1);
    setText('strip2', t.strip2);
    setText('strip3', t.strip3);
    setText('strip4', t.strip4);

    setText('aboutTitle', t.aboutTitle);
    setText('aboutText', t.aboutText);

    setText('catalogTitle', t.catalogTitle);
    setText('searchLabel', t.searchLabel);
    document.getElementById('searchInput').placeholder = t.searchPH;
    setText('pillAll', t.pillAll);
    setText('pillShirt', t.pillShirt);
    setText('pillPants', t.pillPants);

    setText('faqTitle', t.faqTitle);
    setText('newsTitle', t.newsTitle);

    setText('sisterTitle', t.sisterTitle);
    setText('sisterDesc', t.sisterDesc);

    setText('contactTitle', t.contactTitle);
    setText('contactDesc', t.contactDesc);
    setText('emailLabel', t.emailLabel);

    setText('footerCopy', t.footerCopy);
    setText('termsLink', t.terms);
    setText('privacyLink', t.privacy);

    setText('modalHeader', t.modalHeader);
    setText('madeByLabel', t.madeBy);
    setText('tradeableLabel', t.tradeable);
    setText('typeLabel', t.type);
    setText('createdLabel', t.created);
    setText('prevItemBtn', t.prev);
    setText('nextItemBtn', t.next);

    setText('drawerTitle', t.drawerTitle);
    setText('drawerAbout', t.drawerAbout);
    setText('drawerFaq', t.drawerFaq);
    setText('drawerNews', t.drawerNews);

    setText('iosBtn', t.iosBtn);
    setText('iosHeader', t.iosHeader);
    setText('iosStepsTitle', t.iosStepsTitle);
    setText('iosStep1', t.iosStep1);
    setText('iosStep2', t.iosStep2);
    setText('iosStep3', t.iosStep3);
    setText('iosStep4', t.iosStep4);
    setText('iosStep5', t.iosStep5);
    setText('iosNote', t.iosNote);

    // keep sticky heights accurate after text change
    updateStickyHeights();
  }

  const setLangExpanded = (open) => {
    langWrap.classList.toggle('open', open);
    langBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
  };

  if(langBtn){
    langBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      setLangExpanded(!langWrap.classList.contains('open'));
    });
  }
  if(langMenu) langMenu.addEventListener('click', (e) => e.stopPropagation());

  document.querySelectorAll('.lang-option').forEach(opt => {
    opt.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      applyLanguage(opt.dataset.lang);
      setLangExpanded(false);
    });
  });
  document.addEventListener('click', () => { if(langWrap) setLangExpanded(false); });

  // Default language
  applyLanguage('en');

  /* ========= Catalog modal ========= */
  const catalogGrid = document.getElementById('catalogGrid');
  const searchInput = document.getElementById('searchInput');
  const pills = Array.from(document.querySelectorAll('.pill'));
  let activeType = 'all';
  const PER_PAGE = 12;
  let page = 1;

  function filteredItems(){
    const q = (searchInput.value || '').trim().toLowerCase();
    return CATALOG_ITEMS.filter(it => {
      const matchText = !q || it.title.toLowerCase().includes(q);
      const matchType = (activeType === 'all') || (it.type === activeType);
      return matchText && matchType;
    });
  }

  const modalOverlay = document.getElementById('modalOverlay');
  const modalClose = document.getElementById('modalClose');
  const imgNextBtn = document.getElementById('imgNextBtn');
  const imgPrevBtn = document.getElementById('imgPrevBtn');
  const nextItemBtn = document.getElementById('nextItemBtn');
  const prevItemBtn = document.getElementById('prevItemBtn');

  const modalMainImg = document.getElementById('modalMainImg');
  const modalThumbRow = document.getElementById('modalThumbRow');
  const modalTitle = document.getElementById('modalTitle');
  const modalDesc = document.getElementById('modalDesc');
  const modalMadeBy = document.getElementById('modalMadeBy');
  const modalTrade = document.getElementById('modalTrade');
  const modalType = document.getElementById('modalType');
  const modalCreated = document.getElementById('modalCreated');
  const modalBuy = document.getElementById('modalBuy');

  let currentImages = [];
  let currentImageIndex = 0;
  let currentList = [];
  let currentItemIndex = 0;

  function lockBodyScroll(){
    body.style.overflow = 'hidden';
    body.style.touchAction = 'none';
  }
  function unlockBodyScroll(){
    if(!body.classList.contains('drawer-open')){
      body.style.overflow = '';
      body.style.touchAction = '';
    }
  }

  function openProductModal(){
    body.classList.add('product-open');
    lockBodyScroll();
  }
  function closeProductModal(){
    body.classList.remove('product-open');
    unlockBodyScroll();
  }

  function setMainImageByIndex(idx){
    if(!currentImages.length) return;
    currentImageIndex = (idx + currentImages.length) % currentImages.length;
    modalMainImg.src = currentImages[currentImageIndex];
  }

  function buildThumbs(){
    modalThumbRow.innerHTML = '';
    currentImages.slice(0, 3).forEach((src, i) => {
      const btn = document.createElement('button');
      btn.className = 'thumb-btn';
      btn.type = 'button';
      btn.innerHTML = `<img src="${src}" alt="thumbnail">`;
      btn.addEventListener('click', () => setMainImageByIndex(i));
      modalThumbRow.appendChild(btn);
    });
  }

  function openProductByIndex(i){
    currentList = filteredItems();
    if(!currentList.length) return;
    currentItemIndex = (i + currentList.length) % currentList.length;
    const it = currentList[currentItemIndex];

    modalTitle.textContent = it.title || '';
    modalDesc.textContent = it.description || '';
    modalMadeBy.textContent = it.madeBy || 'Zafrili';
    modalTrade.textContent = it.tradeable || '';
    modalType.textContent = it.type || '';
    modalCreated.textContent = it.created || '';

    modalBuy.href = it.buy || '#';
    modalBuy.setAttribute('target','_blank');
    modalBuy.setAttribute('rel','noopener');

    currentImages = (it.images && it.images.length) ? it.images.slice() : [it.img];
    buildThumbs();
    setMainImageByIndex(0);

    openProductModal();
  }

  imgNextBtn.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); setMainImageByIndex(currentImageIndex + 1); });
  imgPrevBtn.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); setMainImageByIndex(currentImageIndex - 1); });

  nextItemBtn.addEventListener('click', (e) => { e.preventDefault(); openProductByIndex(currentItemIndex + 1); });
  prevItemBtn.addEventListener('click', (e) => { e.preventDefault(); openProductByIndex(currentItemIndex - 1); });

  modalOverlay.addEventListener('click', closeProductModal);
  modalClose.addEventListener('click', closeProductModal);

  function renderCatalog(){
    const items = filteredItems();
    const totalPages = Math.max(1, Math.ceil(items.length / PER_PAGE));
    page = Math.min(page, totalPages);

    const start = (page - 1) * PER_PAGE;
    const slice = items.slice(start, start + PER_PAGE);

    catalogGrid.innerHTML = '';
    slice.forEach((it, localIdx) => {
      const globalIdx = start + localIdx;

      const card = document.createElement('div');
      card.className = 'catalog-item';
      card.setAttribute('data-idx', String(globalIdx));

      card.innerHTML = `
        <div class="thumb"><img src="${it.img}" alt="${it.title}"></div>
        <h3>${it.title}</h3>
        <div class="catalog-actions">
          <a class="buy" href="${it.buy}" target="_blank" rel="noopener" data-no-i18n="1">Buy Now</a>
          <button class="info-btn" type="button" aria-label="Open details">i</button>
        </div>
      `;
      catalogGrid.appendChild(card);
    });

    const pager = document.getElementById('catalogPager');
    const prev = document.getElementById('pagePrev');
    const next = document.getElementById('pageNext');
    const ind = document.getElementById('pageIndicator');

    ind.textContent = `${page} / ${totalPages}`;
    if(totalPages <= 1){
      pager.style.display = 'none';
    }else{
      pager.style.display = 'flex';
      prev.style.display = (page > 1) ? 'flex' : 'none';
      next.style.display = (page < totalPages) ? 'flex' : 'none';
    }
  }

  catalogGrid.addEventListener('click', (e) => {
    const buyLink = e.target.closest('a.buy');
    if(buyLink) return;

    const card = e.target.closest('.catalog-item');
    if(!card) return;

    e.preventDefault();
    const idx = parseInt(card.getAttribute('data-idx'), 10);
    if(Number.isFinite(idx)) openProductByIndex(idx);
  });

  pills.forEach(p => {
    p.addEventListener('click', () => {
      pills.forEach(x => x.classList.remove('active'));
      p.classList.add('active');
      activeType = p.dataset.filter;
      page = 1;
      renderCatalog();
    });
  });

  searchInput.addEventListener('input', () => { page = 1; renderCatalog(); });

  document.getElementById('pagePrev').addEventListener('click', () => { page = Math.max(1, page - 1); renderCatalog(); });
  document.getElementById('pageNext').addEventListener('click', () => { page = page + 1; renderCatalog(); });

  renderCatalog();

  /* ========= News modal ========= */
  const newsCard = document.getElementById('newsCard');
  const newsCardImgWrap = document.getElementById('newsCardImgWrap');
  const newsCardImg = document.getElementById('newsCardImg');
  const newsCardHeadline = document.getElementById('newsCardHeadline');
  const newsCardBy = document.getElementById('newsCardBy');
  const newsCardDate = document.getElementById('newsCardDate');
  const newsCardSnippet = document.getElementById('newsCardSnippet');

  const newsOverlay = document.getElementById('newsOverlay');
  const newsClose = document.getElementById('newsClose');
  const newsModalImgWrap = document.getElementById('newsModalImgWrap');
  const newsModalImg = document.getElementById('newsModalImg');
  const newsModalTitle = document.getElementById('newsModalTitle');
  const newsModalBy = document.getElementById('newsModalBy');
  const newsModalDate = document.getElementById('newsModalDate');
  const newsModalText = document.getElementById('newsModalText');

  function openNews(){ body.classList.add('news-open'); lockBodyScroll(); }
  function closeNews(){ body.classList.remove('news-open'); unlockBodyScroll(); }

  function escapeHtml(str){
    return str.replace(/[&<>"']/g, (m) => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
  }

  function renderNews(){
    const hasImg = NEWS_ARTICLE.image && NEWS_ARTICLE.image.trim().length > 0;

    newsCardImgWrap.style.display = hasImg ? 'block' : 'none';
    if(hasImg) newsCardImg.src = NEWS_ARTICLE.image;

    newsCardHeadline.textContent = NEWS_ARTICLE.headline;
    newsCardBy.textContent = NEWS_ARTICLE.by;
    newsCardDate.textContent = NEWS_ARTICLE.date;

    const text = (NEWS_ARTICLE.text || "").replace(/\n+/g, " ").trim();
    const snippet = text.length > 140 ? text.slice(0, 140) + "..." : text;
    newsCardSnippet.textContent = snippet;

    newsModalImgWrap.style.display = hasImg ? 'block' : 'none';
    if(hasImg) newsModalImg.src = NEWS_ARTICLE.image;

    newsModalTitle.textContent = NEWS_ARTICLE.headline;
    newsModalBy.textContent = NEWS_ARTICLE.by;
    newsModalDate.textContent = NEWS_ARTICLE.date;

    newsModalText.innerHTML = (NEWS_ARTICLE.text || "")
      .split("\n")
      .map(p => `<p style="margin:0 0 10px;">${escapeHtml(p)}</p>`)
      .join("");
  }
  renderNews();

  newsCard.addEventListener('click', (e) => { e.preventDefault(); renderNews(); openNews(); });
  newsOverlay.addEventListener('click', closeNews);
  newsClose.addEventListener('click', closeNews);

  /* ========= iOS modal ========= */
  const iosBtn = document.getElementById('iosBtn');
  const iosOverlay = document.getElementById('iosOverlay');
  const iosClose = document.getElementById('iosClose');
  const iosMainImg = document.getElementById('iosMainImg');
  const iosThumbs = document.getElementById('iosThumbs');

  function openIOS(){ body.classList.add('ios-open'); lockBodyScroll(); }
  function closeIOS(){ body.classList.remove('ios-open'); unlockBodyScroll(); }

  iosBtn.addEventListener('click', (e) => { e.preventDefault(); openIOS(); });
  iosOverlay.addEventListener('click', closeIOS);
  iosClose.addEventListener('click', closeIOS);

  iosThumbs.addEventListener('click', (e) => {
    const btn = e.target.closest('.ios-thumb');
    if(!btn) return;
    const src = btn.getAttribute('data-src');
    if(src) iosMainImg.src = src;
  });

  /* ========= Donate modal ========= */
  const donateBtn = document.getElementById('donateBtn');
  const drawerDonate = document.getElementById('drawerDonate');
  const donateOverlay = document.getElementById('donateOverlay');
  const donateClose = document.getElementById('donateClose');

  function openDonate(){ body.classList.add('donate-open'); lockBodyScroll(); }
  function closeDonate(){ body.classList.remove('donate-open'); unlockBodyScroll(); }

  function wireDonate(el){
    if(!el) return;
    el.addEventListener('click', (e) => {
      e.preventDefault();
      closeDrawer();
      openDonate();
    });
  }
  wireDonate(donateBtn);
  wireDonate(drawerDonate);
  donateOverlay.addEventListener('click', closeDonate);
  donateClose.addEventListener('click', closeDonate);

  /* ========= ESC closes modals/drawer ========= */
  document.addEventListener('keydown', (e) => {
    if(e.key === 'Escape'){
      closeProductModal();
      closeNews();
      closeIOS();
      closeDonate();
      closeDrawer();
      if(langWrap) langWrap.classList.remove('open');
    }
    if(body.classList.contains('product-open')){
      if(e.key === 'ArrowRight') setMainImageByIndex(currentImageIndex + 1);
      if(e.key === 'ArrowLeft') setMainImageByIndex(currentImageIndex - 1);
    }
  });
</script>
</body>
</html>
